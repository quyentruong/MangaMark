(window.webpackJsonp=window.webpackJsonp||[]).push([[20,8,9,10,11],{703:function(e,t,n){"use strict";n(26),n(23);t.a={required:function(e){return function(t){return!!t||"".concat(e," is required")}},minLength:function(e,t){return function(n){return n&&n.length>=t||"".concat(e," must be at least ").concat(t," characters")}},maxLength:function(e,t){return function(n){return n&&n.length<=t||"".concat(e," must be less than ").concat(t," characters")}},email:function(){return function(e){return/.+@.+/.test(e)||"E-mail must be valid"}},url:function(){return function(e){return/^(http(s?)):\/\//gi.test(e)||"Url starts with 'http://' or 'https://'. Ex: http://example.com"}},number:function(){return function(e){return/\d/.test(e)||"Number is required"}},protein:function(){return function(e){return/^(p\.)[\d\w]+/gi.test(e)||"protein starts with 'p.'. Ex: p.Ala1225del, p.Phe1546Leufs"}},passwordConfirmation:function(e,t){return e===t||"Password must match"},quantity:function(){return function(e){return!!e&&e>0||"Number has to be greater than 0"}}}},708:function(e,t,n){"use strict";n.r(t);n(5),n(7),n(6),n(4),n(9),n(8),n(10);var o=n(40),r=n(1),c=(n(101),n(703));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var m={name:"PasswordForm",data:function(){return function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({dialog:!1,form:{},modelstate:{}},c.a)},computed:{passwordConfirmationRules:function(){return this.$store.getters.passwordConfirmationRules(this.form.new_password,this.form.new_password_confirmation)}},methods:{savePassword:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=4;break}return e.modelstate={},t.next=4,e.$axios.$put("profile/password",e.form).then((function(){e.dialog=!1,e.$store.dispatch("setSnackbar",{text:"Saved Changes"}),e.$refs.form.reset()})).catch((function(t){422===t.response.status&&(e.modelstate=t.response.data.error)}));case 4:case"end":return t.stop()}}),t)})))()},close:function(){this.$refs.form.reset(),this.$store.dispatch("setSnackbar",{color:"error",text:"Canceled"}),this.dialog=!1}}},d=m,v=n(145),f=n(201),_=n.n(f),h=n(187),w=n(305),x=n(325),k=n(164),y=n(313),$=n(315),V=n(303),O=n(58),component=Object(v.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({attrs:{color:"primary",dark:"",text:""}},o),[e._v(" Change Password ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("Change to New Password")])]),e._v(" "),n("v-card-text",[n("v-form",{ref:"form",attrs:{"lazy-validation":""}},[n("v-text-field",{attrs:{rules:[e.required("Current Password")],"error-messages":e.modelstate.current_password,label:"Current Password","prepend-icon":"mdi-lock",type:"password"},model:{value:e.form.current_password,callback:function(t){e.$set(e.form,"current_password",t)},expression:"form.current_password"}}),e._v(" "),n("v-text-field",{attrs:{rules:[e.required("New Password"),e.minLength("Password",8)],label:"New Password","prepend-icon":"mdi-lock",type:"password"},model:{value:e.form.new_password,callback:function(t){e.$set(e.form,"new_password",t)},expression:"form.new_password"}}),e._v(" "),n("v-text-field",{attrs:{rules:[e.required("Confirmation New Password"),e.passwordConfirmation(e.form.new_password,e.form.new_password_confirmation)],label:"Confirmation New Password","prepend-icon":"mdi-lock",type:"password"},model:{value:e.form.new_password_confirmation,callback:function(t){e.$set(e.form,"new_password_confirmation",t)},expression:"form.new_password_confirmation"}})],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Close ")]),e._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.savePassword}},[e._v(" Save ")])],1)],1)],1)],1)}),[],!1,null,"27119462",null);t.default=component.exports;_()(component,{VBtn:h.a,VCard:w.a,VCardActions:x.b,VCardText:x.d,VCardTitle:x.e,VDialog:k.a,VForm:y.a,VRow:$.a,VSpacer:V.a,VTextField:O.a})},709:function(e,t,n){"use strict";n.r(t);var o=n(40),r=(n(101),n(23),n(4),n(41),n(56),n(707),n(402),n(80),{name:"Export",methods:{collection_export:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$axios.$get("export/".concat(e,"/").concat(t.$auth.user.id),{responseType:"blob"}).then((function(n){var o=new Blob([n],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=document.createEvent("MouseEvents"),a=document.createElement("a");a.download="".concat(e,"_id_").concat(t.$auth.user.id,"_").concat(t.$moment().format("MMMM_DD_YYYY_h_mm_ss_a"),".xlsx"),a.href=window.URL.createObjectURL(o),a.dataset.downloadurl=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",a.download,a.href].join(":"),r.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(r)}));case 2:case"end":return n.stop()}}),n)})))()}}}),c=n(145),l=n(201),m=n.n(l),d=n(187),v=n(159),f=n(299),_=n(189),h=n(94),w=n(160),x=n(301),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"offset-y":"","close-on-content-click":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({attrs:{color:"primary"}},o),[e._v(" Export Data ")])]}}])},[e._v(" "),n("v-list",[n("v-list-item",{on:{click:function(t){return e.collection_export("manga")}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-book-open")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[e._v("Manga")])],1)],1),e._v(" "),n("v-list-item",{on:{click:function(t){return e.collection_export("anime")}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-youtube-tv")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[e._v("Anime")])],1)],1),e._v(" "),n("v-list-item",{on:{click:function(t){return e.collection_export("tvshow")}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-television")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[e._v("TVShow")])],1)],1)],1)],1)}),[],!1,null,"d0126e5a",null);t.default=component.exports;m()(component,{VBtn:d.a,VIcon:v.a,VList:f.a,VListItem:_.a,VListItemContent:h.g,VListItemIcon:w.a,VListItemTitle:h.k,VMenu:x.a})},710:function(e,t,n){"use strict";n.r(t);var o=n(40),r=(n(101),n(4),n(59),{name:"Import",data:function(){return{collection_file:new File([""],"collection")}},methods:{collection_import:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={headers:{"Content-Type":"multipart/form-data"}},(r=new FormData).append("xlsx",t.collection_file),r.append("id",t.$auth.user.id.toString()),n.next=6,t.$axios.$post("import/".concat(e),r,o).then((function(){t.$store.dispatch("setSnackbar",{text:"".concat(t.$capitalize(e)," imported successfully")}),t.collection_file=new File([""],"Manga")})).catch((function(n){422!==n.response.status&&500!==n.response.status||(t.modelstate=n.response.data.error,t.$store.dispatch("setSnackbar",{color:"error",text:"".concat(t.$capitalize(e)," imported unsuccessfully. Please correct and submit again.")}))}));case 6:case"end":return n.stop()}}),n)})))()}}}),c=n(145),l=n(201),m=n.n(l),d=n(187),v=n(312),f=n(159),_=n(299),h=n(189),w=n(300),x=n(94),k=n(160),y=n(301),component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"offset-y":"","close-on-content-click":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({attrs:{color:"primary"}},o),[e._v(" Import Data ")])]}}])},[e._v(" "),n("v-list",[n("v-list-item",[n("v-list-item-icon",[n("v-icon",[e._v("mdi-book-open")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[e._v("Manga")])],1),e._v(" "),n("v-list-item-action",[n("v-file-input",{attrs:{clearable:!1,"hide-input":"","prepend-icon":"mdi-upload",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:function(t){return e.collection_import("manga")}},model:{value:e.collection_file,callback:function(t){e.collection_file=t},expression:"collection_file"}})],1)],1),e._v(" "),n("v-list-item",[n("v-list-item-icon",[n("v-icon",[e._v("mdi-youtube-tv")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[e._v("Anime")])],1),e._v(" "),n("v-list-item-action",[n("v-file-input",{attrs:{clearable:!1,"hide-input":"","prepend-icon":"mdi-upload",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:function(t){return e.collection_import("anime")}},model:{value:e.collection_file,callback:function(t){e.collection_file=t},expression:"collection_file"}})],1)],1),e._v(" "),n("v-list-item",[n("v-list-item-icon",[n("v-icon",[e._v("mdi-television")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[e._v("TVShow")])],1),e._v(" "),n("v-list-item-action",[n("v-file-input",{attrs:{clearable:!1,"hide-input":"","prepend-icon":"mdi-upload",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:function(t){return e.collection_import("tvshow")}},model:{value:e.collection_file,callback:function(t){e.collection_file=t},expression:"collection_file"}})],1)],1)],1)],1)}),[],!1,null,"62a08466",null);t.default=component.exports;m()(component,{VBtn:d.a,VFileInput:v.a,VIcon:f.a,VList:_.a,VListItem:h.a,VListItemAction:w.a,VListItemContent:x.g,VListItemIcon:k.a,VListItemTitle:x.k,VMenu:y.a})},711:function(e,t,n){"use strict";n.r(t);n(23);var o={name:"Delete",methods:{collection_delete:function(e){var t=this;this.$confirm("Do you really want to delete all ".concat(this.$capitalize(e)," data?"),{title:"Warning",buttonTrueText:"Delete",color:"red",buttonFalseText:"Cancel"}).then((function(n){!0===n&&t.$axios.$delete("delete/".concat(e,"/").concat(t.$auth.user.id)).then((function(n){t.$store.dispatch("setSnackbar",{text:"All ".concat(t.$capitalize(e)," deleted successfully")})}))}))}}},r=n(145),c=n(201),l=n.n(c),m=n(187),d=n(159),v=n(299),f=n(189),_=n(94),h=n(160),w=n(301),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"offset-y":"","close-on-content-click":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-btn",e._g({attrs:{color:"primary"}},o),[e._v(" Delete Data ")])]}}])},[e._v(" "),n("v-list",[n("v-list-item",{on:{click:function(t){return e.collection_delete("manga")}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-book-open")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[e._v("Manga")])],1)],1),e._v(" "),n("v-list-item",{on:{click:function(t){return e.collection_delete("anime")}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-youtube-tv")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[e._v("Anime")])],1)],1),e._v(" "),n("v-list-item",{on:{click:function(t){return e.collection_delete("tvshow")}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-television")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[e._v("TVShow")])],1)],1)],1)],1)}),[],!1,null,"4998a54c",null);t.default=component.exports;l()(component,{VBtn:m.a,VIcon:d.a,VList:v.a,VListItem:f.a,VListItemContent:_.g,VListItemIcon:h.a,VListItemTitle:_.k,VMenu:w.a})},720:function(e,t,n){"use strict";n.r(t);n(5),n(7),n(6),n(4),n(9),n(8),n(10);var o=n(40),r=n(1),c=(n(101),n(155)),l=n(708),m=n(703),d=n(709),v=n(710);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={name:"Profile",components:{Delete:n(711).default,Import:v.default,Export:d.default,PasswordForm:l.default},data:function(){return _({api_key:"",mangaFile:new File([""],"Manga"),animeFile:new File([""],"Anime"),modelstate:{}},m.a)},head:function(){return{title:"Profile"}},computed:_({},Object(c.b)({userName:"auth.user.name",userEmail:"auth.user.email"})),created:function(){this.api_key=this.$auth.user.api_key},methods:{generateKey:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$put("generateapi",e.$auth.user).then((function(t){e.$store.dispatch("setSnackbar",{text:"Generated API Key"}),e.api_key=t.data.api_key}));case 2:case"end":return t.stop()}}),t)})))()},copyKey:function(){var e=this;this.$copyText(this.api_key).then((function(t){e.$store.dispatch("setSnackbar",{color:"info",text:"Copied ".concat(e.api_key)})}),(function(t){e.$store.dispatch("setSnackbar",{color:"error",text:"Can not copy"})}))},change:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=4;break}return e.modelstate={},t.next=4,e.$axios.$put("profile",e.$auth.user).then((function(){e.$store.dispatch("setSnackbar",{text:"Save Changes"})})).catch((function(t){422===t.response.status&&(e.modelstate=t.response.data.error)}));case 4:case"end":return t.stop()}}),t)})))()}}},w=n(145),x=n(201),k=n.n(x),y=n(187),$=n(305),V=n(325),O=n(314),P=n(313),j=n(315),C=n(58),S=n(93),E=n(146),component=Object(w.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"elevation-12",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.change.apply(null,arguments)}}},[n("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[n("v-toolbar-title",[e._v("Profile")])],1),e._v(" "),n("v-card-text",[n("v-form",{ref:"form",attrs:{"lazy-validation":""}},[n("v-text-field",{attrs:{label:"Id","prepend-icon":"mdi-music-accidental-sharp",disabled:""},model:{value:e.$auth.user.id,callback:function(t){e.$set(e.$auth.user,"id",t)},expression:"$auth.user.id"}}),e._v(" "),n("v-text-field",{attrs:{rules:[e.required("Name")],"error-messages":e.modelstate.name,label:"Name","prepend-icon":"mdi-account",type:"text"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),e._v(" "),n("v-text-field",{attrs:{rules:[e.required("Email"),e.email()],"error-messages":e.modelstate.email,label:"Email","prepend-icon":"mdi-email",type:"email"},model:{value:e.userEmail,callback:function(t){e.userEmail=t},expression:"userEmail"}}),e._v(" "),n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"Number of Mangas","prepend-icon":"mdi-book",disabled:""},model:{value:e.$auth.user.mangas_count,callback:function(t){e.$set(e.$auth.user,"mangas_count",t)},expression:"$auth.user.mangas_count"}})],1),e._v(" "),n("v-col",[n("v-text-field",{attrs:{label:"Number of Animes","prepend-icon":"mdi-movie",disabled:""},model:{value:e.$auth.user.animes_count,callback:function(t){e.$set(e.$auth.user,"animes_count",t)},expression:"$auth.user.animes_count"}})],1),e._v(" "),n("v-col",[n("v-text-field",{attrs:{label:"Number of TV Shows","prepend-icon":"mdi-television",disabled:""},model:{value:e.$auth.user.tvshows_count,callback:function(t){e.$set(e.$auth.user,"tvshows_count",t)},expression:"$auth.user.tvshows_count"}})],1)],1),e._v(" "),n("v-text-field",{attrs:{value:new Date(e.$auth.user.created_at).toString(),label:"Created At","prepend-icon":"mdi-calendar",disabled:""}}),e._v(" "),n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"API Key","prepend-icon":"mdi-key",disabled:""},model:{value:e.api_key,callback:function(t){e.api_key=t},expression:"api_key"}})],1),e._v(" "),n("v-col",[n("v-btn",{on:{click:e.generateKey}},[e._v(" Generate ")]),e._v(" "),n("v-btn",{on:{click:e.copyKey}},[e._v(" Copy ")])],1)],1)],1)],1),e._v(" "),n("v-card-actions",[n("v-row",{staticStyle:{"margin-top":"-30px"}},[n("v-col",[n("v-btn",{attrs:{color:"primary"},on:{click:e.change}},[e._v(" Save ")])],1),e._v(" "),n("v-col",[n("Import")],1),e._v(" "),n("v-col",[n("Export")],1),e._v(" "),n("v-col",[n("Delete")],1),e._v(" "),n("v-col",[n("PasswordForm")],1)],1)],1)],1)}),[],!1,null,"4db9b10c",null);t.default=component.exports;k()(component,{VBtn:y.a,VCard:$.a,VCardActions:V.b,VCardText:V.d,VCol:O.a,VForm:P.a,VRow:j.a,VTextField:C.a,VToolbar:S.a,VToolbarTitle:E.c})}}]);